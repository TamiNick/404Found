{"version":3,"file":"index.js","sources":["../src/js/our-furniture.js","../src/js/feedback.js","../src/js/faq.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nlet page = 1;\nlet totalPages = 0;\nlet per_page = 8;\nlet query = \"\";\n\nlet furnitureGallery = document.querySelector(\".our-furniture .furniture-items\");\nlet categoryList = document.querySelector(\".our-furniture .options\");\nconst showMoreButton = document.querySelector(\".our-furniture .show-more\");\n\n\ncategoryList.addEventListener(\"click\", async (event) => {\n    const option = event.target.closest(\".option\");\n    if (!option) return; \n\n    document.querySelectorAll(\".our-furniture .options .option\").forEach(li => li.classList.remove(\"active\"));\n    option.classList.add(\"active\");\n\n    query = option.dataset.category;\n\n    page = 1;\n    const data = await getImagesByQuery(query, page);\n\n    const items = data.furnitures;\n    furnitureGallery.innerHTML = \"\";\n    createGallery(items);   \n\n    totalPages = Math.ceil(data.totalItems / per_page);\n\n    showMoreButton.style.display = page < totalPages ? \"block\" : \"none\";\n});\n\nshowMoreButton.addEventListener(\"click\", async () => {\n    showMoreButton.classList.add(\"active\");\n    page++;\n    const data = await getImagesByQuery(query, page);\n    const items = data.furnitures;\n    createGallery(items);\n\n    showMoreButton.classList.remove(\"active\");\n    showMoreButton.style.display = page < totalPages ? \"block\" : \"none\";\n});\n\n\nwindow.addEventListener(\"DOMContentLoaded\", async () => {\n    let furnitureType = document.querySelector(\".our-furniture .options .option:first-child\");\n    furnitureType.classList.add(\"active\");\n\n    query = furnitureType.dataset.category;\n    let data = await getImagesByQuery(query, page);\n\n    let items = data.furnitures;\n    furnitureGallery.innerHTML = \"\";\n    createGallery(items);\n\n    totalPages = Math.ceil(data.totalItems / per_page);\n});\n\nasync function getImagesByQuery(query, page) {\n\n    const url = query === \"All furniture\"\n      ? `https://furniture-store-v2.b.goit.study/api/furnitures?page=${page}&limit=${per_page}`\n      : `https://furniture-store-v2.b.goit.study/api/furnitures?category=${query}&page=${page}&limit=${per_page}`;\n\n        try {\n            let response = await axios.get(url);\n            return response.data;\n        } catch(error) {\n            iziToast.info({\n                position: 'topRight',\n                message: error.message,\n            });\n            return {furnitures: [],\n                totalItems: 0,\n            };\n        }\n    \n}\n\n\nfunction createGallery (items) {\n    let markUp = items.map((item) => {\n        return `<li class=\"item\" data-id=\"${item._id}\">\n        <div class=\"item-image-container\">\n            <img src=\"${item.images[0]}\"/>\n        </div>\n            <p class=\"item-name\">${item.name}</p>\n            <div class=\"color-options\">\n                <button class=\"color\" type=\"button\" data-color = \"${item.color[0]}\" data-img=\"${item.images[0]}\"></button>\n                <button class=\"color\" type=\"button\" data-color = \"${item.color[1]}\" data-img=\"${item.images[1]}\"></button>\n                <button class=\"color\" type=\"button\" data-color = \"${item.color[2]}\" data-img=\"${item.images[2]}\"></button>\n            </div>\n\n            <p class=\"item-price\"><span>${item.price}</span> грн</p>\n            <button class=\"details-button\">Детальніше</button>\n        \n        </li>`\n    }).join(\"\");\n    \n    furnitureGallery.insertAdjacentHTML(\"beforeend\", markUp);\n\n    let colorButtons = document.querySelectorAll(\".our-furniture .furniture-items .item .color-options .color\");\n\n    colorButtons.forEach((button)=> {\n        button.style.backgroundColor = button.dataset.color;\n    });\n\n    attachColorSwitch();\n    //addEventDetailButtons ();\n}\n\nfunction attachColorSwitch() {\n    const colorButtons = document.querySelectorAll(\".color-options .color\");\n\n    colorButtons.forEach(button => {\n        button.addEventListener(\"click\", () => {\n            const imgSrc = button.dataset.img;\n            const item = button.closest(\".item\");\n            const imgElement = item.querySelector(\".item-image-container img\");\n\n            imgElement.src = imgSrc;\n        });\n    });\n}\n\n// .our-furniture .furniture-items .item .details-button\n\n/* function addEventDetailButtons () {\n    const detailButtons = document.querySelectorAll(\".our-furniture .furniture-items .item .details-button\");\n\n    detailButtons.forEach(button => {\n        button.addEventListener(\"click\", () => {\n            \n        });\n    });\n} */ ","import axios from 'axios';\nimport Raty from 'raty-js';\nimport 'raty-js/src/raty.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport Swiper from 'swiper/bundle';\nimport 'swiper/css/bundle';\n\n\nasync function fetchFeedbackList() {\n  try {\n    const response = await axios.get('https://furniture-store.b.goit.study/api/feedbacks', {\n      params: {\n        page: 1,\n        limit: 10,\n      },\n    });\n\n    return response.data.feedbacks;\n  } catch (error) {\n    iziToast.error({\n      title: 'Помилка',\n      message: 'Не вдалося завантажити відгуки. Спробуйте пізніше.',\n      position: 'topRight',\n    });\n\n    console.error('Error fetching feedbacks:', error);\n  }\n}\n\nasync function renderFeedbackList(data) {\n  const reviewContainer = document.querySelector('.review-carousel');\n  const markup = data\n    .map(feedback =>\n        `<li class=\"review-item swiper-slide\">\n  <div class=\"stars-rating\" data-score=\"${feedback.rate}\"></div>\n  <p class=\"review-item-text\">\"${feedback.descr}\"</p>\n  <p class=\"review-item-name\">${feedback.name}</p>\n</li>`\n    ).join('');\n  reviewContainer.querySelector('.review .swiper-wrapper').insertAdjacentHTML('beforeend', markup);\n  document.querySelectorAll('.stars-rating').forEach(item => {\n    const score = parseFloat(item.dataset.score);\n\n    const raty = new Raty(item, {\n      round: {\n        down: 0.25,\n        full: 0.75,\n        up: 0.76,\n      },\n\n      readOnly: true,\n      score: score,\n      starType: 'i',\n    });\n\n    raty.init();\n  });\n}\n\nconst reviewContainer = document.querySelector('.review-carousel');\nconst reviewSwiper = new Swiper(reviewContainer, {\n  slidesPerView: 1,\n  spaceBetween: 16,\n  breakpoints: {\n    768: {\n      slidesPerView: 2,\n      spaceBetween: 24,\n    },\n    1440: {\n      slidesPerView: 3,\n    },\n  },\n\n  pagination: {\n    el: '.review .swiper-pagination',\n    clickable: true,\n    dynamicBullets: true,\n  },\n\n  navigation: {\n    prevEl: '.review .nav-btn-prev',\n    nextEl: '.review .nav-btn-next',\n  },\n});\n\nasync function initializeFeedback() {\n  try {\n    const data = await fetchFeedbackList();\n    renderFeedbackList(data);\n    reviewSwiper.update();\n  } catch (error) {\n    iziToast.error({\n      title: 'Помилка',\n      message: 'Не вдалося завантажити галерею відгуків. Спробуйте пізніше.',\n      position: 'topRight',\n    });\n    console.error('Error fetching feedback:', error);\n  } finally {\n  }\n}\n\ninitializeFeedback();","import Accordion from 'accordion-js';\nimport '/css/faq.css';\nfunction initFaqAccordion() {\n  const accordionContainer = document.querySelector('.accordion-container');\n\n  if (!accordionContainer) {\n    return;\n  }\n\n  try {\n    new Accordion('.accordion-container', {\n      duration: 400,\n      showMultiple: false,\n      collapse: true,\n      onOpen: currentElement => {},\n      onClose: currentElement => {},\n    });\n  } catch (error) {}\n}\ndocument.addEventListener('DOMContentLoaded', initFaqAccordion);\n"],"names":["page","totalPages","per_page","query","furnitureGallery","categoryList","showMoreButton","event","option","li","data","getImagesByQuery","items","createGallery","furnitureType","url","error","iziToast","markUp","item","button","attachColorSwitch","imgSrc","imgElement","fetchFeedbackList","axios","renderFeedbackList","reviewContainer","markup","feedback","score","Raty","reviewSwiper","Swiper","initializeFeedback","initFaqAccordion","Accordion","currentElement"],"mappings":"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"}