import{i as p,S as g,a as w,R as v,A as h}from"./assets/vendor-BkXgttEf.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))e(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&e(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function e(o){if(o.ep)return;o.ep=!0;const n=i(o);fetch(o.href,n)}})();let s=1,l=0,u=8,c="",m=document.querySelector(".our-furniture .furniture-items"),b=document.querySelector(".our-furniture .options");const a=document.querySelector(".our-furniture .show-more");b.addEventListener("click",async r=>{const t=r.target.closest(".option");if(!t)return;document.querySelectorAll(".our-furniture .options .option").forEach(o=>o.classList.remove("active")),t.classList.add("active"),c=t.dataset.category,s=1;const i=await f(c,s),e=i.furnitures;m.innerHTML="",y(e),l=Math.ceil(i.totalItems/u),a.style.display=s<l?"block":"none"});a.addEventListener("click",async()=>{a.classList.add("active"),s++;const t=(await f(c,s)).furnitures;y(t),a.classList.remove("active"),a.style.display=s<l?"block":"none"});window.addEventListener("DOMContentLoaded",async()=>{let r=document.querySelector(".our-furniture .options .option:first-child");r.classList.add("active"),c=r.dataset.category;let t=await f(c,s),i=t.furnitures;m.innerHTML="",y(i),l=Math.ceil(t.totalItems/u)});async function f(r,t){const i=r==="All furniture"?`https://furniture-store-v2.b.goit.study/api/furnitures?page=${t}&limit=${u}`:`https://furniture-store-v2.b.goit.study/api/furnitures?category=${r}&page=${t}&limit=${u}`;try{return(await axios.get(i)).data}catch(e){return p.info({position:"topRight",message:e.message}),{furnitures:[],totalItems:0}}}function y(r){let t=r.map(e=>`<li class="item" data-id="${e._id}">
        <div class="item-image-container">
            <img src="${e.images[0]}"/>
        </div>
            <p class="item-name">${e.name}</p>
            <div class="color-options">
                <button class="color" type="button" data-color = "${e.color[0]}" data-img="${e.images[0]}"></button>
                <button class="color" type="button" data-color = "${e.color[1]}" data-img="${e.images[1]}"></button>
                <button class="color" type="button" data-color = "${e.color[2]}" data-img="${e.images[2]}"></button>
            </div>

            <p class="item-price"><span>${e.price}</span> грн</p>
            <button class="details-button">Детальніше</button>
        
        </li>`).join("");m.insertAdjacentHTML("beforeend",t),document.querySelectorAll(".our-furniture .furniture-items .item .color-options .color").forEach(e=>{e.style.backgroundColor=e.dataset.color}),L()}function L(){document.querySelectorAll(".color-options .color").forEach(t=>{t.addEventListener("click",()=>{const i=t.dataset.img,o=t.closest(".item").querySelector(".item-image-container img");o.src=i})})}async function S(){try{return(await w.get("https://furniture-store.b.goit.study/api/feedbacks",{params:{page:1,limit:10}})).data.feedbacks}catch(r){p.error({title:"Помилка",message:"Не вдалося завантажити відгуки. Спробуйте пізніше.",position:"topRight"}),console.error("Error fetching feedbacks:",r)}}async function $(r){const t=document.querySelector(".review-carousel"),i=r.map(e=>`<li class="review-item swiper-slide">
  <div class="stars-rating" data-score="${e.rate}"></div>
  <p class="review-item-text">"${e.descr}"</p>
  <p class="review-item-name">${e.name}</p>
</li>`).join("");t.querySelector(".review .swiper-wrapper").insertAdjacentHTML("beforeend",i),document.querySelectorAll(".stars-rating").forEach(e=>{const o=parseFloat(e.dataset.score);new v(e,{round:{down:.25,full:.75,up:.76},readOnly:!0,score:o,starType:"i"}).init()})}const E=document.querySelector(".review-carousel"),q=new g(E,{slidesPerView:1,spaceBetween:16,breakpoints:{768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3}},pagination:{el:".review .swiper-pagination",clickable:!0,dynamicBullets:!0},navigation:{prevEl:".review .nav-btn-prev",nextEl:".review .nav-btn-next"}});async function A(){try{const r=await S();$(r),q.update()}catch(r){p.error({title:"Помилка",message:"Не вдалося завантажити галерею відгуків. Спробуйте пізніше.",position:"topRight"}),console.error("Error fetching feedback:",r)}finally{}}A();function M(){if(document.querySelector(".accordion-container"))try{new h(".accordion-container",{duration:400,showMultiple:!1,collapse:!0,onOpen:t=>{},onClose:t=>{}})}catch{}}document.addEventListener("DOMContentLoaded",M);
//# sourceMappingURL=index.js.map
